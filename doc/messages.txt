STANDARD

    All messages use socket.io event "jpress_txt".

    All messages are JSON objects that have a field "_t" for the type.

FROM SERVER

    {
        _t: login_login,
        status: "ok", // ok, fail
        token: String
    }

    {
        _t: session_validate_token,
        status: "ok" / "fail"
    }

    {
        _t: write_preview,
        html: String                 HTML rendered string
    }

    {
        _t: write_submit
    }
    Receiving this message signals that the post was saved successfully
    and the user can be redirected to the homepage

    {
        _t: alert,
        txt: String
    }
    Generic alert to be displayed to the user.

    // TODO CLIENT
    {
        _t: posts_get_page,
        page: Int,
        posts: [
            {
                created: Date,      date created
                title: String,      plain text
                body: String        markdown string
            }
        ]
    }

FROM CLIENT

    {
        _t: login_login,
        user: String,
        pass: String
    }

    {
        _t: posts_get_page,
        token: String,
        page: Int
    }

    {
        _t: session_validate_token,
        token: String
    }

    {
        _t: session_end,
        token: String
    }
    To logout.
    Server wipes current session and sends a session_validate_token with "fail".

    {
        _t: write_preview,
        txt: String,             Markdown string
        token: String
    }
    Request a markdown render preview

    {
        _t: write_submit,
        title: String            required
        txt: String,             Markdown string
        token: String
    }
    Submit a post. It will be written to db
