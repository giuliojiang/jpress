# Global configuration

There are 2 main configuration files that are generated by `setup.js`:

* `local/config.json` used by the backend
* `client/globals.js` loaded by the client. It contains a `jpress_globals` variable that can be read by the frontend javascript.

## local/config.json

Contains keys:

* privkey - SSL private key location
* cert - SSL certification location
* user - blog username
* passhash - hashed password
* db - directory where database is stored
* upload_path - directory where uploaded files are stored
* port - ws port

## client/globals.js

Contains global variable `jpress_globals` with keys:

* port - ws port
* title - title of the blog

# Client global variables

`jpress.main.BASEURL` The client global variable `BASEURL` stores the base url (starting with a /) to be used to create relative URLs. The BASEURL is dynamically initialized by the server and injected in the HTML file as a script tag.

`jpress.main.GSIGNIN_CLIENTID` Is used in the google-sign-in library API.

# jpressContext

`jpressContext.googleClientId`

# Messages API

## Write

```
{
    _t: "write_preview",
    _tok: authentication token,
    text: string
}

{
    _t: "write_preview",
    html: string
}
```